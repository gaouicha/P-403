
<!DOCTYPE html>
<html>
<head>
	<title>Main page</title>
	<link rel="stylesheet" type="text/css" href="../style.css">
	<link rel="shortcut icon" href="#" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
            crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
        crossorigin=""></script>

</head>
<body>


<!-- <div class="container2">
	<div class="camera">
		
		test4
	</div>

	<div class="location">
		test 1

	</div>
	
	<div class="hashtag">
		<label>Hashtags</label>
		<input type="text" name="hashtag"/>
	</div>

	<div class="mood">
		<label>Mood</label>
		<input type="text" name="mood"/>
	</div>

	<div class="comments">
		<label>Comments</label>
		<!- <textarea>Some text...</textarea>> 
	</div>

</div> -->

<div class="wrapper">
  <div class="camera">Camera
  	<!-- <center>
  		<video id="vidDisplay" autoplay="true"> 
  			No Video support in your browser...
  		</video>
  	</center>
  	<script type="text/javascript">
  		navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia ||navigator.msGetUserMedia || navigator.oGetUserMedia;
  		if (navigator.getUserMedia){
  			navigator.getUserMedia({video: true}, handleVideo, videoError);
  		}

  		function handleVideo(stream) {
  			document.querySelector('#vidDisplay').src = window.URL.createObjectURL(stream);
  		}

  		function videoError(e){
  			alert("Problem!!");
  		}
  	</script> -->



  </div>
  <script type="text/javascript">
  	function geoloc(){ // ou tout autre nom de fonction
          var geoSuccess = function(position) { // Ceci s'exécutera si l'utilisateur accepte la géolocalisation
              startPos = position;
              lat = startPos.coords.latitude;
              lon = startPos.coords.longitude;
              console.log("lat: "+lat+" - lon: "+lon);
              var macarte = null;
          // Fonction d'initialisation de la carte
          function initMap() {

            // Créer l'objet "macarte" et l'insèrer dans l'élément HTML qui a l'ID "map"
                    macarte = L.map('map').setView([lat, lon], 11);
                    // Leaflet ne récupère pas les cartes (tiles) sur un serveur par défaut. Nous devons lui préciser où nous souhaitons les récupérer. Ici, openstreetmap.fr
                    L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
                        // Il est toujours bien de laisser le lien vers la source des données
                        attribution: 'données © <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',
                        minZoom: 1,
                        maxZoom: 20
                    }).addTo(macarte);
                    var marker = L.marker([lat, lon]).addTo(macarte);
                }
          window.onload = function(){
            // Fonction d'initialisation qui s'exécute lorsque le DOM est chargé
            initMap(); 
          };
          };
          var geoFail = function(){ // Ceci s'exécutera si l'utilisateur refuse la géolocalisation
              console.log("refus");
          };
          // La ligne ci-dessous cherche la position de l'utilisateur et déclenchera la demande d'accord
          navigator.geolocation.getCurrentPosition(geoSuccess,geoFail);
      }
	geoloc();
  </script>
  <div id="map" class="location">
  		location
  	</div>

  </div>
  <div class="hashtag">Hashtag</div>
  <div class="mood">Mood</div>
  <div class="comments">Comments</div>
</div>
<!-- <script src="../js/capture.js"></script> -->
</body>
</html>
